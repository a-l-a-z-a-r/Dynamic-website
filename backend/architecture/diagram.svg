<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800" viewBox="0 0 1200 800">
  <defs>
    <style>
      .box { fill: #f7f4ef; stroke: #333; stroke-width: 2; }
      .title { font: 16px 'Georgia', serif; fill: #222; }
      .label { font: 14px 'Georgia', serif; fill: #222; }
      .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <text x="30" y="35" class="title">Socialbook Microservices Architecture</text>

  <!-- Clients -->
  <rect x="30" y="70" width="220" height="80" class="box" />
  <text x="50" y="110" class="label">Frontend Web</text>
  <rect x="30" y="170" width="220" height="80" class="box" />
  <text x="50" y="210" class="label">Mobile / External Clients</text>

  <!-- Edge -->
  <rect x="320" y="90" width="220" height="80" class="box" />
  <text x="340" y="130" class="label">Backend API (NestJS)</text>
  <rect x="320" y="190" width="220" height="80" class="box" />
  <text x="340" y="230" class="label">Keycloak</text>

  <!-- Data -->
  <rect x="320" y="310" width="220" height="80" class="box" />
  <text x="340" y="350" class="label">MongoDB</text>

  <!-- Messaging -->
  <rect x="600" y="90" width="220" height="80" class="box" />
  <text x="620" y="130" class="label">RabbitMQ</text>
  <rect x="600" y="190" width="220" height="80" class="box" />
  <text x="620" y="230" class="label">Topic Exchange</text>

  <!-- Workers -->
  <rect x="860" y="70" width="260" height="60" class="box" />
  <text x="880" y="105" class="label">Notifications Worker</text>
  <rect x="860" y="140" width="260" height="60" class="box" />
  <text x="880" y="175" class="label">Recommendations Worker</text>
  <rect x="860" y="210" width="260" height="60" class="box" />
  <text x="880" y="245" class="label">Imports Worker</text>
  <rect x="860" y="280" width="260" height="60" class="box" />
  <text x="880" y="315" class="label">Feed Fanout Worker</text>
  <rect x="860" y="350" width="260" height="60" class="box" />
  <text x="880" y="385" class="label">Comments Worker</text>
  <rect x="860" y="420" width="260" height="60" class="box" />
  <text x="880" y="455" class="label">Email Worker</text>

  <!-- Observability -->
  <rect x="320" y="430" width="220" height="80" class="box" />
  <text x="340" y="470" class="label">Prometheus</text>

  <!-- Arrows -->
  <line x1="250" y1="110" x2="320" y2="130" class="arrow" />
  <line x1="250" y1="210" x2="320" y2="130" class="arrow" />
  <line x1="250" y1="110" x2="320" y2="230" class="arrow" />
  <line x1="250" y1="210" x2="320" y2="230" class="arrow" />

  <line x1="430" y1="170" x2="430" y2="190" class="arrow" />
  <line x1="430" y1="170" x2="430" y2="310" class="arrow" />

  <line x1="540" y1="130" x2="600" y2="130" class="arrow" />
  <line x1="710" y1="170" x2="710" y2="190" class="arrow" />

  <line x1="820" y1="220" x2="860" y2="100" class="arrow" />
  <line x1="820" y1="220" x2="860" y2="170" class="arrow" />
  <line x1="820" y1="220" x2="860" y2="240" class="arrow" />
  <line x1="820" y1="220" x2="860" y2="310" class="arrow" />
  <line x1="820" y1="220" x2="860" y2="380" class="arrow" />

  <line x1="860" y1="100" x2="540" y2="350" class="arrow" />
  <line x1="860" y1="170" x2="540" y2="350" class="arrow" />
  <line x1="860" y1="240" x2="540" y2="350" class="arrow" />
  <line x1="860" y1="310" x2="540" y2="350" class="arrow" />
  <line x1="860" y1="380" x2="540" y2="350" class="arrow" />
  <line x1="860" y1="450" x2="540" y2="350" class="arrow" />

  <line x1="430" y1="470" x2="430" y2="170" class="arrow" />
  <line x1="430" y1="470" x2="990" y2="100" class="arrow" />
  <line x1="430" y1="470" x2="990" y2="170" class="arrow" />
  <line x1="430" y1="470" x2="990" y2="240" class="arrow" />
  <line x1="430" y1="470" x2="990" y2="310" class="arrow" />
  <line x1="430" y1="470" x2="990" y2="380" class="arrow" />
  <line x1="430" y1="470" x2="990" y2="450" class="arrow" />
</svg>
